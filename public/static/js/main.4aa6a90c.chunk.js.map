{"version":3,"sources":["cmps/ToyPreview.jsx","cmps/ToyList.jsx","cmps/ToyFilterType.jsx","cmps/ToyFilter.jsx","cmps/ToysChart.jsx","services/storageService.js","services/toyService.js","pages/ToyApp.jsx","store/actions/toyActions.js","pages/ToyEdit.jsx","pages/ToyDetails.jsx","routes.js","cmps/AppHeader.jsx","App.js","store/reducers/toyReducer.js","store/store.js","index.js"],"names":["ToyPreview","props","toy","onDelete","name","price","to","_id","onClick","ToyList","toys","className","map","ToyFilterType","state","type","console","log","this","FormControl","style","minWidth","InputLabel","id","Select","value","onChange","onhandleChange","MenuItem","Component","_ToyFilter","filterBy","handleChange","ev","target","setState","onSetFilter","inStock","checked","htmlFor","TextField","searchTxt","placeholder","sortBy","defaultValue","ToyFilter","connect","toyReducer","ToysChart","numEducational","filter","length","avEducational","reduce","acc","curr","numFunny","avFunny","numAdult","data","labels","datasets","backgroundColor","hoverBackgroundColor","options","responsive","maintainAspectRatio","width","height","storageService","loadFromStorage","key","val","localStorage","getItem","JSON","parse","saveToStorage","stringify","toyService","query","axios","get","BASE_URL","params","then","res","_saveToysToStorage","getById","toyId","delToy","delete","saveToy","newToy","put","createdAt","Date","now","post","_ToyApp","newFilter","loadToys","deleteToy","mapDispatchToProps","newFilterBy","dispatch","ToyApp","_ToyEdit","loadToy","onSaveToy","preventDefault","history","push","onInputChange","match","onSubmit","ToyEdit","_ToyDetails","find","routes","path","component","_AppHeader","AppHeader","App","route","exact","initialState","rootReducer","combineReducers","action","item","index","findIndex","el","slice","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4aa6a90c.chunk.js","sourcesContent":["import { Link } from 'react-router-dom'\n\n\nexport function ToyPreview(props) {\n    const { toy, onDelete } = props\n    return (\n        <li>\n            <h3>{toy.name}</h3>\n            <h4>{toy.price}</h4>\n            <button>\n                <Link to={`/toy/${toy._id}`}>Details</Link>\n            </button>\n            <button>\n                <Link to={`/toy/edit/${toy._id}`}>Edit</Link>\n            </button>\n            <button onClick={() => onDelete(toy._id)}>Delete</button>\n        </li>\n    );\n}","import { ToyPreview } from \"./ToyPreview.jsx\";\n\nexport function ToyList(props) {\n    const { toys, onDelete } = props\n    return (\n        <div>\n            <ul className = \"toy-list\">\n                {toys.map((toy) => (\n                    <ToyPreview key={toy._id} toy={toy} onDelete={onDelete}/>\n                ))}\n            </ul>\n\n        </div>\n    );\n}\n","import InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { Component } from 'react';\r\n\r\n\r\nexport class ToyFilterType extends Component {\r\n    state = {\r\n        type: this.props.type,\r\n    };\r\n\r\n    render() {\r\n        console.log('get from props', this.props.type)\r\n\r\n\r\n\r\n        return (\r\n            <div>\r\n                <FormControl style={{ minWidth: 120 }}>\r\n                    <InputLabel id=\"demo-simple-select-label\">Type</InputLabel>\r\n                    <Select\r\n                        value={this.props.type + ''}\r\n                        onChange={this.props.onhandleChange}\r\n                        name=\"type\"\r\n                    >\r\n                        <MenuItem value='All'>All</MenuItem>\r\n                        <MenuItem value='Educational'>Educational</MenuItem>\r\n                        <MenuItem value='Funny'>Funny</MenuItem>\r\n                        <MenuItem value='Adult'>Adult</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </div>\r\n        );\r\n    }\r\n}","import { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { ToyFilterType } from \"./ToyFilterType.jsx\";\n\nimport { Select } from '@material-ui/core';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { TextField } from '@material-ui/core';\n\n\n\n\nexport class _ToyFilter extends Component {\n\n    state = {\n        filterBy: {},\n    };\n\n    componentDidMount() {\n        let { filterBy } = this.props\n        this.setState({ filterBy })\n    }\n\n    handleChange = (ev) => {\n        const callback = () => {\n            this.props.onSetFilter(this.state.filterBy);\n        };\n\n        const filterBy = { ...this.state.filterBy }\n        let value = ev.target.value\n        if (ev.target.type === 'checkbox') value = ev.target.value === 'true' ? true : false\n        filterBy[ev.target.name] = value;\n\n        this.setState({ filterBy }, callback);\n    };\n\n    render() {\n        console.log('filterBy', this.state.filterBy)\n        var { filterBy } = this.state\n        return (\n            <div>\n                <ToyFilterType type={filterBy.type} onhandleChange={this.handleChange} />\n\n                <div className=\"inStock-filter\">\n                    <input type=\"checkbox\" name=\"inStock\" value={!filterBy.inStock} onChange={this.handleChange} checked={filterBy.inStock} />\n                    <label htmlFor=\"inStock\">In stock</label>\n                </div>\n\n                <TextField type=\"text\" name=\"searchTxt\" value={filterBy.searchTxt} onChange={this.handleChange} placeholder=\"Search by name...\" />\n\n                <div>\n                    <Select name=\"sortBy\" onChange={this.handleChange} value={filterBy.sortBy + ''} >\n                        <MenuItem value=\"name\" defaultValue>Name</MenuItem>\n                        <MenuItem value=\"price\" >Price</MenuItem>\n                    </Select>\n                </div>\n            </div>\n        )\n    }\n}\nconst mapGlobalStateToProps = (state) => {\n    return {\n        filterBy: state.toyReducer.filterBy,\n    }\n}\nexport const ToyFilter = connect(mapGlobalStateToProps)(_ToyFilter)\n\n{/* <div className=\"filter\">\n    <h1>Toys</h1>\n    <select name=\"type\" value={filterBy.type} onChange={this.handleChange}>\n        <option value=\"All\">All</option>\n        <option value=\"Educational\">Educational</option>\n        <option value=\"Funny\">Funny</option>\n        <option value=\"Adult\">Adult</option>\n    </select>\n</div> */}\n{/* <div className=\"type-filter\">\n    <input type=\"radio\" defaultChecked name=\"type\" value=\"All\" id=\"All\" onChange={this.handleChange} />\n    <label htmlFor=\"All\">All</label>\n    <input type=\"radio\" name=\"type\" value=\"Educational\" id=\"Educational\" onChange={this.handleChange} />\n    <label htmlFor=\"Educational\">Educational</label>\n    <input type=\"radio\" name=\"type\" value=\"Funny\" id=\"Funny\" onChange={this.handleChange} />\n    <label htmlFor=\"done\">Funny</label>\n    <input type=\"radio\" name=\"type\" value=\"Adult\" id=\"Adult\" onChange={this.handleChange} />\n    <label htmlFor=\"active\">Adult</label>\n</div> */}","import { Component } from 'react';\r\nimport { Doughnut } from 'react-chartjs-2';\r\n\r\n\r\nexport class ToysChart extends Component {\r\n\r\n    render() {\r\n        let numEducational = this.props.toys.filter(toy => toy.type === 'Educational').length\r\n        let sumEducational = this.props.toys.reduce(function (acc, curr) {\r\n            if (curr.type === 'Educational') return acc + curr.price\r\n            else return acc\r\n        }, 0)\r\n        let avEducational = sumEducational / numEducational\r\n        let numFunny = this.props.toys.filter(toy => toy.type === 'Funny').length\r\n        let sumFunny = this.props.toys.reduce(function (acc, curr) {\r\n            if (curr.type === 'Funny') return acc + curr.price\r\n            else return acc\r\n        }, 0)\r\n        let avFunny = sumFunny / numFunny\r\n        let numAdult = this.props.toys.filter(toy => toy.type === 'Adult').length\r\n        let sumAdult = this.props.toys.reduce(function (acc, curr) {\r\n            if (curr.type === 'Adult') return acc + curr.price\r\n            else return acc\r\n        }, 0)\r\n        let avAdult = sumAdult / numAdult\r\n        const data = {\r\n            labels: [\r\n                'Educational',\r\n                'Funny',\r\n                'Adult'\r\n            ],\r\n            datasets: [{\r\n                data: [avEducational, avFunny, avAdult],\r\n                backgroundColor: [\r\n                    '#FF6384',\r\n                    '#36A2EB',\r\n                    '#FFCE56'\r\n                ],\r\n                hoverBackgroundColor: [\r\n                    '#FF6384',\r\n                    '#36A2EB',\r\n                    '#FFCE56'\r\n                ]\r\n            }]\r\n        };\r\n\r\n        return (\r\n            <div className=\"toy-chart\" >\r\n                <h4>Average prices of toys</h4>\r\n                <Doughnut data={data} options={{\r\n                    responsive: false,\r\n                    maintainAspectRatio: true,\r\n                    width: \"800\",\r\n                    height: \"800\",\r\n                }} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n","export const storageService =  {\r\n    loadFromStorage,\r\n    saveToStorage\r\n}\r\n\r\nfunction loadFromStorage(key) {\r\n    var val = localStorage.getItem(key)\r\n    return (val)? JSON.parse(val) : null;\r\n}\r\n\r\nfunction saveToStorage(key, val) {\r\n    localStorage[key] = JSON.stringify(val);\r\n}\r\n\r\n","import { storageService } from './storageService.js';\r\nimport axios from 'axios'\r\n\r\nexport const toyService = {\r\n    query,\r\n    getById,\r\n    delToy,\r\n    saveToy\r\n}\r\nconst KEY = 'toysDB'\r\n// const BASE_URL = 'http://localhost:3030/toy'\r\nconst BASE_URL = (process.env.NODE_ENV !== 'development')\r\n    ? '/api/toy'\r\n    : '//localhost:3030/api/toy';\r\n\r\nfunction query(filterBy = {}) {\r\n    return axios.get(`${BASE_URL}`, { params: filterBy })\r\n        .then(res => {\r\n            _saveToysToStorage(res.data)\r\n            return res.data\r\n        })\r\n}\r\n\r\nfunction getById(toyId) {\r\n    return axios.get(`${BASE_URL}/${toyId}`)\r\n        .then(res => res.data)\r\n}\r\n\r\nfunction saveToy(newToy) {\r\n    if (newToy._id) {\r\n        return axios.put(`${BASE_URL}/${newToy._id}`, newToy)\r\n            .then()\r\n    }\r\n    newToy.createdAt = Date.now()\r\n    return axios.post(`${BASE_URL}`, newToy)\r\n        .then(res => res.data)\r\n}\r\n\r\nfunction delToy(toyId) {\r\n    return axios.delete(`${BASE_URL}/${toyId}`)\r\n        .then(res => res.data)\r\n}\r\n\r\n// function getToysForDisplay(filterBy) {\r\n//     var inStock = filterBy.inStock ? 'inStock=true' : ''\r\n//     var type\r\n//     switch (filterBy.type) {\r\n//         case 'Educational':\r\n//             type = '&type=Educational'\r\n//             break\r\n//         case 'Funny':\r\n//             type = '&type=Funny'\r\n//             break\r\n//         case 'Adult':\r\n//             type = '&type=Adult'\r\n//             break\r\n//         default:\r\n//             type = ''\r\n//             break\r\n//     }\r\n//     var search = filterBy.searchTxt ? `&q=${filterBy.searchTxt}` : ''\r\n//     var sort = filterBy.sortBy === 'price' ? `&_sort=price&_order=asc` : `&_sort=name&_order=asc`\r\n//     return axios.get(`${BASE_URL}?${inStock}${type}${search}${sort}`)\r\n//         .then(res => {\r\n//             return res.data\r\n//         })\r\n// }\r\n\r\nfunction _saveToysToStorage(data) {\r\n    storageService.saveToStorage(KEY, data)\r\n}","import { ToyList } from \"../cmps/ToyList.jsx\";\r\nimport { ToyFilter } from \"../cmps/ToyFilter.jsx\";\r\nimport { ToysChart } from \"../cmps/ToysChart.jsx\";\r\nimport { loadToys, deleteToy } from \"../store/actions/toyActions.js\";\r\nimport { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\nexport class _ToyApp extends Component {\r\n\r\n    componentDidMount() {\r\n        console.log('FILTER', this.props.filterBy)\r\n        this.props.loadToys(this.props.filterBy);\r\n        console.log('Got from store:', this.props);\r\n    }\r\n\r\n    onSetFilter = (newFilter) => {\r\n        this.props.loadToys(newFilter)\r\n    }\r\n    onDelete = (toyId) => {\r\n        this.props.deleteToy(toyId)\r\n    }\r\n\r\n    render() {\r\n        const { toys } = this.props\r\n        if (!toys) return <h2>Loading toys...</h2>\r\n        return (\r\n            <section className=\"main\">\r\n                <div className=\"toys-filter-list\">\r\n                    <ToyFilter onSetFilter={this.onSetFilter} />\r\n                    <button className=\"adding\">\r\n                        <Link to={`/toys/add`}>Add toy</Link>\r\n                    </button>\r\n                    <ToyList toys={toys} onDelete={this.onDelete} />\r\n                </div>\r\n                <div className=\"charts\">\r\n                    <ToysChart toys={toys} />\r\n                    <ToysChart toys={toys} />\r\n                </div>\r\n\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapGlobalStateToProps = (state) => {\r\n    return {\r\n        toys: state.toyReducer.toys,\r\n        filterBy: state.toyReducer.filterBy\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadToys,\r\n    deleteToy,\r\n}\r\nexport const ToyApp = connect(mapGlobalStateToProps, mapDispatchToProps)(_ToyApp)\r\n\r\n\r\n","import { toyService } from '../../services/toyService.js'\r\n\r\nexport function loadToys(newFilterBy) { \r\n    return (dispatch) => {\r\n        return toyService.query(newFilterBy)\r\n            .then(toys => {\r\n                const action = {\r\n                    type: 'SET_TOYS',\r\n                    toys,\r\n                    newFilterBy\r\n                }\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\nexport function deleteToy(toyId) { \r\n    return (dispatch) => {\r\n        return toyService.delToy(toyId)\r\n            .then(() => {\r\n                const action = { type: 'DELETE_TOY', toyId }\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\n\r\nexport function updStatus(toy) {\r\n    return (dispatch) => {\r\n        return toyService.updToyStatus(toy)\r\n            .then((updatedToy) => {\r\n                const action = { type: 'CHANGE_TOY_STATUS', newToy: updatedToy }\r\n                dispatch(action)\r\n            })\r\n    }\r\n}\r\nexport function saveToy(toy) {\r\n    return (dispatch) => {\r\n        return toyService.saveToy(toy)\r\n            .then((res) => {\r\n                if (!res) {\r\n                    const action = { type: 'UPD_TOY', newToy: toy }\r\n                    dispatch(action)\r\n                } else {\r\n                    const action = { type: 'SAVE_TOY', newToy: res }\r\n                    dispatch(action)\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\n// export function setFilter(newFilterBy) {\r\n//     return (dispatch) => {\r\n//         return toyService.getToysForDisplay(newFilterBy)\r\n//             .then((toysForDisplay) => {\r\n//                 const action = { type: 'UPDATE_FILTER', newToys: toysForDisplay, newFilterBy }\r\n//                 dispatch(action)\r\n//             })\r\n//     }\r\n// }","import { toyService } from \"../services/toyService.js\";\nimport { saveToy } from \"../store/actions/toyActions.js\";\nimport { MyForm } from \"./MyForm.jsx\";\nimport { Component } from 'react'\nimport { connect } from 'react-redux'\n\n\nclass _ToyEdit extends Component {\n    state = {\n        toy: {\n            name: '',\n            price: 0,\n            type: '',\n            createdAt: '',\n            inStock: true\n        }\n    };\n\n    componentDidMount() {\n        const { toyId } = this.props.match.params;\n        console.log('Seaech toyId', toyId)\n        if (toyId) {\n            this.loadToy(toyId)\n        }\n    }\n\n    loadToy = (toyId) => {\n        toyService.getById(toyId)\n            .then((toy) => {\n                console.log(toy);\n                this.setState({ toy })\n            }\n            )\n\n    }\n\n    onSaveToy = (ev) => {\n        ev.preventDefault();\n        this.props.saveToy(this.state.toy)\n        this.props.history.push('/toy');\n    };\n\n    onInputChange = (ev) => {\n        console.log('EVENT.TARGTE.VALUE', ev.target.value)\n        let value = (ev.target.type === 'number') ? +ev.target.value : ev.target.value;\n        if (ev.target.type === 'checkbox') value = ev.target.value === 'true' ? true : false\n        console.log('ev.target.value', ev.target.value)\n        const toy = { ...this.state.toy };\n\n        toy[ev.target.name] = value;\n        this.setState({\n            toy\n        });\n    };\n\n    render() {\n        const { toy } = this.state\n        if (!toy) return <h3>Loading...</h3>\n        return (            \n            <div>\n                {/* <MyForm toy = {toy} onChange = {this.onInputChange}/> */}\n\n                <form onSubmit={this.onSaveToy}>\n\n                    <input value={toy.name}\n                        type=\"text\" placeholder=\"Enter toy name...\" name=\"name\"\n                        onChange={this.onInputChange} />\n\n                    <input value={toy.price}\n                        type=\"number\" name=\"price\"\n                        onChange={this.onInputChange} />\n\n                    <select name=\"type\" id=\"\" onChange={this.onInputChange} value={toy.type}>\n                        <option value=\"Educational\" >Educational</option>\n                        <option value=\"Funny\" >Funny</option>\n                        <option value=\"Adult\">Adult</option>\n                    </select>\n\n                    <label htmlFor=\"inStock\">Is in stock?</label>\n                    <input type=\"checkbox\" name=\"inStock\" value={!toy.inStock} onChange={this.onInputChange} checked={toy.inStock} />\n\n                    <button type=\"submit\">Save</button>\n                </form>\n            </div>\n        );\n    }\n}\nconst mapGlobalStateToProps = (state) => {\n    return {\n        toys: state.toyReducer.toys\n    }\n}\nconst mapDispatchToProps = {\n    saveToy\n}\n\nexport const ToyEdit = connect(mapGlobalStateToProps, mapDispatchToProps)(_ToyEdit)","import { Component } from 'react'\nimport { connect } from 'react-redux'\n\n\nexport class _ToyDetails extends Component {\n    state = {\n        toy: {}\n    };\n    componentDidMount() {\n        const { toyId } = this.props.match.params;\n        this.loadToy(toyId)\n    }\n\n    loadToy = (toyId) => {\n        var toy = this.props.toys.find(toy => toy._id = toyId)\n        this.setState({ toy })\n    }\n\n    render() {\n        const { toy } = this.state\n        if (!toy) return <h2>Loading...</h2>\n        return <div className=\"toy-details\">\n            <h3>Title: {toy.name}</h3>\n            <h3>Price: {toy.price}</h3>\n            <h3>Type: {toy.type}</h3>\n            <h3>{toy.inStock ? 'IN' : 'NOT IN'} stock</h3>\n            <button onClick={() => this.props.history.push('/toy')}>Go Back</button>\n        </div>\n    }\n}\n\nconst mapGlobalStateToProps = (state) => {\n    return {\n        toys: state.toyReducer.toys,\n    }\n}\nexport const ToyDetails = connect(mapGlobalStateToProps)(_ToyDetails)\n\n\n","// import {Home} from './pages/Home.jsx'\r\nimport {ToyApp} from './pages/ToyApp.jsx'\r\nimport {ToyEdit} from './pages/ToyEdit.jsx'\r\nimport {ToyDetails} from './pages/ToyDetails.jsx'\r\n// import {UserProfile} from './pages/UserProfile.jsx'\r\n\r\nexport const routes = [\r\n    {\r\n        path:'/',\r\n        component: ToyApp,\r\n        // component: Home,\r\n    },\r\n    {\r\n        path:'/toy',\r\n        component: ToyApp,\r\n    },\r\n    {\r\n        path:'/toy/:toyId',\r\n        component: ToyDetails,\r\n    },\r\n    {\r\n        path:'/toy/edit/:toyId?',\r\n        component: ToyEdit,\r\n    },\r\n    {\r\n        path:'/toys/add',\r\n        component: ToyEdit,\r\n    },\r\n    // {\r\n    //     path:'/user-profile',\r\n    //     component: UserProfile,\r\n    // }\r\n]","import { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\n\r\nexport class _AppHeader extends Component {\r\n\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    render() {\r\n        let { toys } = this.props\r\n        return (\r\n            <header>\r\n                <nav>\r\n                    <Link to=\"/toy\">TOYs</Link>\r\n                </nav>\r\n                <h2>Welcome to Toys Project!</h2>\r\n                <h3>We have {toys.length} toys in our project:)</h3>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapGlobalStateToProps = (state) => {\r\n    return {\r\n        toys: state.toyReducer.toys,\r\n    }\r\n}\r\n\r\nexport const AppHeader = connect(mapGlobalStateToProps)(_AppHeader)","import './App.css';\nimport { Switch, Route, HashRouter as Router } from 'react-router-dom'\nimport { Component } from 'react'\nimport { routes } from './routes.js'\nimport { AppHeader } from './cmps/AppHeader.jsx'\n\n\nclass App extends Component {\n  render() {\n    return (\n      <main>\n        <AppHeader />\n        <Router>\n          <Switch>\n            {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\n          </Switch>\n        </Router>\n      </main>\n    )\n  }\n}\n\nexport default App;","const initialState = {\r\n    toys: [],\r\n    filterBy: {\r\n        type: 'All',\r\n        inStock: false,\r\n        searchTxt: '',\r\n        sortBy: 'name'\r\n    }\r\n}\r\n\r\nexport function toyReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_TOYS':\r\n            return { ...state,  filterBy: action.newFilterBy, toys: action.toys }\r\n        case 'DELETE_TOY':\r\n            return { ...state, toys: state.toys.filter(item => item._id !== action.toyId) }\r\n        case 'UPD_TOY':\r\n            let index = state.toys.findIndex(el => el._id = action.newToy._id)\r\n            return { ...state, toys: [...state.toys.slice(0, index), action.newToy, ...state.toys.slice(index + 1)] }\r\n        case 'SAVE_TOY':\r\n            console.log({ ...state, toys: [...state.toys, action.newToy] })\r\n            return { ...state, toys: [...state.toys, action.newToy] }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n","import thunk from 'redux-thunk';\r\nimport { createStore, applyMiddleware, combineReducers, compose } from 'redux'\r\n\r\n\r\n\r\nimport { toyReducer } from './reducers/toyReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n    toyReducer,\r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)));\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux'\nimport { store } from './store/store'\nimport { HashRouter as Router } from 'react-router-dom'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router>\n        <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}